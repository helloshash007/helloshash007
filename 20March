- name: Debug All Job Variables
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Show All Variables
      debug:
        var: hostvars[inventory_hostname]


ikp_username: "{{ tower_ikp_user }}"
ikp_password: "{{ tower_ikp_password }}"
hashi_token: "{{ tower_hashi_token }}"
Vault_Token: "{{ tower_vault_token }}"

- name: Retrieve IKP and Vault Credentials
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Set Credentials from Extra Variables
      set_fact:
        IKP_USER: "{{ ikp_username }}"
        IKP_PASSWORD: "{{ ikp_password }}"
        HASHI_TOKEN: "{{ hashi_token }}"
        VAULT_TOKEN: "{{ Vault_Token }}"

    - name: Debug All Credentials
      debug:
        msg:
          - "IKP_USER: {{ IKP_USER | default('Not Set') }}"
          - "IKP_PASSWORD: {{ IKP_PASSWORD | default('Not Set') }}"
          - "HASHI_TOKEN: {{ HASHI_TOKEN | default('Not Set') }}"
          - "VAULT_TOKEN: {{ VAULT_TOKEN | default('Not Set') }}"